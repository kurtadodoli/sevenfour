// URGENT DEBUG: Find out why buttons are completely missing

console.log('🚨 CRITICAL ISSUE: NO BUTTONS VISIBLE AT ALL');
console.log('Even the VIEW button should always be visible, but it is not.');
console.log('This suggests a more serious rendering issue.\n');

console.log('💡 IMMEDIATE DEBUGGING STEPS:\n');

console.log('STEP 1: Check for JavaScript Errors');
console.log('- Open F12 Developer Tools');
console.log('- Go to Console tab');
console.log('- Look for RED error messages');
console.log('- Take a screenshot and share any errors you see\n');

console.log('STEP 2: Check Network Request');
console.log('- Go to Network tab in Developer Tools');
console.log('- Click the Custom Design Requests tab to refresh it');
console.log('- Look for a request to "/api/custom-orders/admin/all"');
console.log('- Click on it and check the Response');
console.log('- Share what data it returns\n');

console.log('STEP 3: Manual Data Check');
console.log('Run this in browser console to check what data is loaded:');
console.log('```javascript');
console.log('// Check if data is loaded');
console.log('console.log("Window object keys:", Object.keys(window));');
console.log('');
console.log('// Try to find React state');
console.log('const reactRoot = document.querySelector("#root")._reactInternalInstance || document.querySelector("#root")._reactInternalFiber;');
console.log('console.log("React found:", !!reactRoot);');
console.log('');
console.log('// Check for action containers');
console.log('const actionContainers = document.querySelectorAll("[class*=ActionsContainer], [class*=Actions]");');
console.log('console.log("Action containers found:", actionContainers.length);');
console.log('actionContainers.forEach((container, i) => {');
console.log('  console.log(`Container ${i}:`, container.innerHTML);');
console.log('});');
console.log('```\n');

console.log('STEP 4: Force Manual Button Injection');
console.log('Run this in browser console to manually add buttons:');
console.log('```javascript');
console.log('// Find the table row with the custom order');
console.log('const tableRows = document.querySelectorAll("tr, [class*=TableRow]");');
console.log('tableRows.forEach(row => {');
console.log('  const text = row.textContent || row.innerText;');
console.log('  if (text.includes("CUSTOM-MCS99QSP-O3ATI") && text.includes("PENDING")) {');
console.log('    console.log("Found the custom order row:", row);');
console.log('    ');
console.log('    // Find or create the actions cell');
console.log('    let actionsCell = row.querySelector("[class*=Actions], td:last-child, div:last-child");');
console.log('    if (!actionsCell) {');
console.log('      actionsCell = document.createElement("div");');
console.log('      actionsCell.style.cssText = "display: flex; gap: 8px; justify-content: center; align-items: center;";');
console.log('      row.appendChild(actionsCell);');
console.log('    }');
console.log('    ');
console.log('    // Clear existing content');
console.log('    actionsCell.innerHTML = "";');
console.log('    ');
console.log('    // Add approve button');
console.log('    const approveBtn = document.createElement("button");');
console.log('    approveBtn.innerHTML = "✅";');
console.log('    approveBtn.title = "Approve Design Request";');
console.log('    approveBtn.style.cssText = "background: #27ae60; color: white; border: none; padding: 8px 12px; margin: 2px; border-radius: 6px; cursor: pointer; font-size: 14px;";');
console.log('    approveBtn.onclick = () => {');
console.log('      fetch("/api/custom-orders/1/status", {');
console.log('        method: "PUT",');
console.log('        headers: {');
console.log('          "Content-Type": "application/json",');
console.log('          "Authorization": localStorage.getItem("authToken") ? `Bearer ${localStorage.getItem("authToken")}` : ""');
console.log('        },');
console.log('        body: JSON.stringify({status: "approved"})');
console.log('      })');
console.log('      .then(response => response.json())');
console.log('      .then(data => {');
console.log('        if (data.success) {');
console.log('          alert("✅ Design request approved successfully!");');
console.log('          window.location.reload();');
console.log('        } else {');
console.log('          alert("❌ Error: " + data.message);');
console.log('        }');
console.log('      })');
console.log('      .catch(err => alert("❌ Network error: " + err.message));');
console.log('    };');
console.log('    ');
console.log('    // Add reject button');
console.log('    const rejectBtn = document.createElement("button");');
console.log('    rejectBtn.innerHTML = "❌";');
console.log('    rejectBtn.title = "Reject Design Request";');
console.log('    rejectBtn.style.cssText = "background: #e74c3c; color: white; border: none; padding: 8px 12px; margin: 2px; border-radius: 6px; cursor: pointer; font-size: 14px;";');
console.log('    rejectBtn.onclick = () => {');
console.log('      if (confirm("Are you sure you want to reject this design request?")) {');
console.log('        fetch("/api/custom-orders/1/status", {');
console.log('          method: "PUT",');
console.log('          headers: {');
console.log('            "Content-Type": "application/json",');
console.log('            "Authorization": localStorage.getItem("authToken") ? `Bearer ${localStorage.getItem("authToken")}` : ""');
console.log('          },');
console.log('          body: JSON.stringify({status: "rejected"})');
console.log('        })');
console.log('        .then(response => response.json())');
console.log('        .then(data => {');
console.log('          if (data.success) {');
console.log('            alert("❌ Design request rejected successfully!");');
console.log('            window.location.reload();');
console.log('          } else {');
console.log('            alert("❌ Error: " + data.message);');
console.log('          }');
console.log('        })');
console.log('        .catch(err => alert("❌ Network error: " + err.message));');
console.log('      }');
console.log('    };');
console.log('    ');
console.log('    // Add view button');
console.log('    const viewBtn = document.createElement("button");');
console.log('    viewBtn.innerHTML = "👁️";');
console.log('    viewBtn.title = "View Details";');
console.log('    viewBtn.style.cssText = "background: #34495e; color: white; border: none; padding: 8px 12px; margin: 2px; border-radius: 6px; cursor: pointer; font-size: 14px;";');
console.log('    viewBtn.onclick = () => {');
console.log('      alert("View functionality would open order details");');
console.log('    };');
console.log('    ');
console.log('    // Add buttons to container');
console.log('    actionsCell.appendChild(approveBtn);');
console.log('    actionsCell.appendChild(rejectBtn);');
console.log('    actionsCell.appendChild(viewBtn);');
console.log('    ');
console.log('    console.log("✅ Buttons injected successfully!");');
console.log('  }');
console.log('});');
console.log('```\n');

console.log('🎯 CRITICAL FINDINGS TO SHARE:');
console.log('1. Are there any RED errors in the Console tab?');
console.log('2. Does the Network tab show the API call to custom-orders/admin/all?');
console.log('3. What does the API response contain?');
console.log('4. Did the manual button injection work?');

console.log('\n✅ We can definitely fix this once we identify the root cause!');
console.log('The backend is working perfectly - this is a frontend rendering issue.');
