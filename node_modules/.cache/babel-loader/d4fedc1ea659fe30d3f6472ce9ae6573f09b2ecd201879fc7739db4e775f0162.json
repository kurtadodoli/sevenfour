{"ast":null,"code":"var _jsxFileName = \"C:\\\\sevenfour\\\\src\\\\pages\\\\ProductsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingCart, faEye } from '@fortawesome/free-solid-svg-icons';\nimport TopBar from '../components/TopBar';\n\n// Styled Components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PageContainer = styled.div`\n  min-height: 100vh;\n  background-color: #ffffff;\n`;\n_c = PageContainer;\nconst ContentWrapper = styled.div`\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 80px 24px 40px;\n`;\n_c2 = ContentWrapper;\nconst Header = styled.div`\n  text-align: center;\n  margin-bottom: 60px;\n`;\n_c3 = Header;\nconst Title = styled.h1`\n  font-size: 3rem;\n  font-weight: 300;\n  color: #000000;\n  margin: 0;\n  letter-spacing: -0.02em;\n  line-height: 1.2;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;\n_c4 = Title;\nconst Subtitle = styled.p`\n  font-size: 1.1rem;\n  color: #666666;\n  margin: 16px 0 0 0;\n  font-weight: 300;\n`;\n_c5 = Subtitle;\nconst LoadingWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 400px;\n`;\n_c6 = LoadingWrapper;\nconst LoadingText = styled.div`\n  font-size: 1.2rem;\n  color: #666666;\n  font-weight: 300;\n`;\n_c7 = LoadingText;\nconst ErrorWrapper = styled.div`\n  text-align: center;\n  padding: 80px 20px;\n`;\n_c8 = ErrorWrapper;\nconst ErrorText = styled.h2`\n  color: #000000;\n  font-weight: 400;\n  margin-bottom: 24px;\n  font-size: 1.5rem;\n`;\n_c9 = ErrorText;\nconst RetryButton = styled.button`\n  padding: 12px 32px;\n  background-color: #000000;\n  color: #ffffff;\n  border: none;\n  font-size: 16px;\n  font-weight: 400;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  letter-spacing: 0.5px;\n  \n  &:hover {\n    background-color: #333333;\n  }\n`;\n_c0 = RetryButton;\nconst ProductGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  gap: 32px;\n  margin-bottom: 60px;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n    gap: 24px;\n  }\n`;\n_c1 = ProductGrid;\nconst ProductCard = styled.div`\n  background-color: #ffffff;\n  border: 1px solid #f0f0f0;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  \n  &:hover {\n    border-color: #000000;\n    transform: translateY(-4px);\n    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);\n  }\n`;\n_c10 = ProductCard;\nconst ImageContainer = styled.div`\n  position: relative;\n  height: 300px;\n  overflow: hidden;\n  background-color: #fafafa;\n`;\n_c11 = ImageContainer;\nconst ProductImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n  \n  ${ProductCard}:hover & {\n    transform: scale(1.02);\n  }\n`;\n_c12 = ProductImage;\nconst ImageOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  \n  ${ProductCard}:hover & {\n    opacity: 1;\n  }\n`;\n_c13 = ImageOverlay;\nconst ViewButton = styled.button`\n  background-color: #ffffff;\n  color: #000000;\n  border: none;\n  padding: 12px 24px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  letter-spacing: 0.5px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: #000000;\n    color: #ffffff;\n  }\n`;\n_c14 = ViewButton;\nconst ImageBadge = styled.div`\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #ffffff;\n  padding: 6px 12px;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.5px;\n`;\n_c15 = ImageBadge;\nconst ProductInfo = styled.div`\n  padding: 24px;\n`;\n_c16 = ProductInfo;\nconst ProductName = styled.h3`\n  font-size: 1.2rem;\n  font-weight: 400;\n  color: #000000;\n  margin: 0 0 8px 0;\n  line-height: 1.4;\n`;\n_c17 = ProductName;\nconst ProductDescription = styled.p`\n  color: #666666;\n  font-size: 14px;\n  line-height: 1.5;\n  margin: 0 0 16px 0;\n  height: 42px;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n`;\n_c18 = ProductDescription;\nconst PriceSection = styled.div`\n  margin-bottom: 16px;\n`;\n_c19 = PriceSection;\nconst Price = styled.div`\n  font-size: 1.4rem;\n  font-weight: 600;\n  color: #000000;\n  margin-bottom: 8px;\n`;\n_c20 = Price;\nconst ProductDetails = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-bottom: 16px;\n`;\n_c21 = ProductDetails;\nconst DetailItem = styled.div`\n  font-size: 13px;\n  color: #666666;\n  \n  strong {\n    color: #000000;\n    font-weight: 500;\n  }\n`;\n_c22 = DetailItem;\nconst StockStatus = styled.div`\n  font-size: 13px;\n  font-weight: 500;\n  color: ${props => props.inStock ? '#000000' : '#999999'};\n  margin-bottom: 20px;\n`;\n_c23 = StockStatus;\nconst AddToCartButton = styled.button`\n  width: 100%;\n  padding: 14px;\n  background-color: ${props => props.disabled ? '#f5f5f5' : '#000000'};\n  color: ${props => props.disabled ? '#999999' : '#ffffff'};\n  border: ${props => props.disabled ? '1px solid #e0e0e0' : 'none'};\n  font-size: 14px;\n  font-weight: 500;\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  transition: all 0.3s ease;\n  letter-spacing: 0.5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  \n  &:hover {\n    background-color: ${props => props.disabled ? '#f5f5f5' : '#333333'};\n  }\n`;\n_c24 = AddToCartButton;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 80px 20px;\n`;\n_c25 = EmptyState;\nconst EmptyTitle = styled.h2`\n  color: #000000;\n  font-weight: 300;\n  font-size: 1.8rem;\n  margin-bottom: 16px;\n`;\n_c26 = EmptyTitle;\nconst EmptyText = styled.p`\n  color: #666666;\n  font-size: 1.1rem;\n  font-weight: 300;\n`;\n_c27 = EmptyText;\nconst ProductsPage = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const {\n    addToCart,\n    loading: cartLoading\n  } = useCart();\n  const {\n    currentUser\n  } = useAuth();\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('http://localhost:3001/api/maintenance/products');\n      if (response.ok) {\n        const data = await response.json();\n\n        // Filter only active products for customers\n        const activeProducts = data.filter(product => product.productstatus === 'active');\n        setProducts(activeProducts);\n      } else {\n        setError('Failed to load products');\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setError('Failed to load products. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Parse sizes data for display\n  const parseSizes = sizesData => {\n    try {\n      if (typeof sizesData === 'string') {\n        return JSON.parse(sizesData);\n      }\n      return sizesData || [];\n    } catch (error) {\n      return [];\n    }\n  };\n\n  // Get available sizes for display\n  const getAvailableSizes = sizesData => {\n    const sizes = parseSizes(sizesData);\n    return sizes.filter(size => size.stock > 0).map(size => size.size);\n  };\n\n  // Get total stock\n  const getTotalStock = product => {\n    if (product.total_stock !== undefined) {\n      return product.total_stock;\n    }\n    const sizes = parseSizes(product.sizes);\n    return sizes.reduce((total, size) => total + (size.stock || 0), 0);\n  };\n  const handleAddToCart = async (e, product) => {\n    e.stopPropagation();\n    if (!currentUser) {\n      toast.info('Please login to add items to cart');\n      navigate('/login');\n      return;\n    }\n    try {\n      const result = await addToCart(product.product_id, product.productcolor || 'Default', 'One Size', 1);\n      if (result.success) {\n        toast.success(result.message || 'Item added to cart!');\n        navigate('/orders');\n      } else {\n        toast.error(result.message || 'Failed to add item to cart');\n      }\n    } catch (error) {\n      console.error('Add to cart error:', error);\n      toast.error('Failed to add item to cart');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ContentWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Our Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n          children: \"Discover our carefully curated selection of premium products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(LoadingWrapper, {\n        children: /*#__PURE__*/_jsxDEV(LoadingText, {\n          children: \"Loading products...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(ErrorText, {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(RetryButton, {\n          onClick: fetchProducts,\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 21\n      }, this), !loading && !error && products.length > 0 && /*#__PURE__*/_jsxDEV(ProductGrid, {\n        children: products.map(product => {\n          const totalStock = getTotalStock(product);\n          const availableSizes = getAvailableSizes(product.sizes);\n          return /*#__PURE__*/_jsxDEV(ProductCard, {\n            children: [/*#__PURE__*/_jsxDEV(ImageContainer, {\n              children: product.productimage && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(ProductImage, {\n                  src: `http://localhost:3001/uploads/${product.productimage}`,\n                  alt: product.productname,\n                  onError: e => {\n                    e.target.style.display = 'none';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(ImageOverlay, {\n                  children: /*#__PURE__*/_jsxDEV(ViewButton, {\n                    onClick: () => navigate(`/product/${product.id}`),\n                    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faEye\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 57\n                    }, this), \" View Details\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 49\n                }, this), product.images && product.images.length > 1 && /*#__PURE__*/_jsxDEV(ImageBadge, {\n                  children: [\"+\", product.images.length - 1, \" more\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n              onClick: () => navigate(`/product/${product.id}`),\n              children: [/*#__PURE__*/_jsxDEV(ProductName, {\n                children: product.productname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ProductDescription, {\n                children: product.productdescription || 'Premium quality product with exceptional craftsmanship'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(PriceSection, {\n                children: /*#__PURE__*/_jsxDEV(Price, {\n                  children: [\"\\u20B1\", parseFloat(product.productprice || 0).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ProductDetails, {\n                children: [availableSizes.length > 0 && /*#__PURE__*/_jsxDEV(DetailItem, {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Sizes:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 53\n                  }, this), \" \", availableSizes.join(', ')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 49\n                }, this), product.productcolor && /*#__PURE__*/_jsxDEV(DetailItem, {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Color:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 53\n                  }, this), \" \", product.productcolor]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(StockStatus, {\n                inStock: totalStock > 0,\n                children: totalStock > 0 ? `${totalStock} in stock` : 'Out of stock'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(AddToCartButton, {\n                onClick: e => handleAddToCart(e, product),\n                disabled: totalStock === 0 || cartLoading,\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faShoppingCart\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 45\n                }, this), cartLoading ? 'Adding...' : totalStock > 0 ? 'Add to Cart' : 'Out of Stock']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 37\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }, this), !loading && !error && products.length === 0 && /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [/*#__PURE__*/_jsxDEV(EmptyTitle, {\n          children: \"No products available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(EmptyText, {\n          children: \"Check back later for new products in our collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 13\n    }, this), \"        \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductsPage, \"1d2x8X0mLkRrNNAgKnpDDKX2ibk=\", false, function () {\n  return [useNavigate, useCart, useAuth];\n});\n_c28 = ProductsPage;\nexport default ProductsPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28;\n$RefreshReg$(_c, \"PageContainer\");\n$RefreshReg$(_c2, \"ContentWrapper\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"Title\");\n$RefreshReg$(_c5, \"Subtitle\");\n$RefreshReg$(_c6, \"LoadingWrapper\");\n$RefreshReg$(_c7, \"LoadingText\");\n$RefreshReg$(_c8, \"ErrorWrapper\");\n$RefreshReg$(_c9, \"ErrorText\");\n$RefreshReg$(_c0, \"RetryButton\");\n$RefreshReg$(_c1, \"ProductGrid\");\n$RefreshReg$(_c10, \"ProductCard\");\n$RefreshReg$(_c11, \"ImageContainer\");\n$RefreshReg$(_c12, \"ProductImage\");\n$RefreshReg$(_c13, \"ImageOverlay\");\n$RefreshReg$(_c14, \"ViewButton\");\n$RefreshReg$(_c15, \"ImageBadge\");\n$RefreshReg$(_c16, \"ProductInfo\");\n$RefreshReg$(_c17, \"ProductName\");\n$RefreshReg$(_c18, \"ProductDescription\");\n$RefreshReg$(_c19, \"PriceSection\");\n$RefreshReg$(_c20, \"Price\");\n$RefreshReg$(_c21, \"ProductDetails\");\n$RefreshReg$(_c22, \"DetailItem\");\n$RefreshReg$(_c23, \"StockStatus\");\n$RefreshReg$(_c24, \"AddToCartButton\");\n$RefreshReg$(_c25, \"EmptyState\");\n$RefreshReg$(_c26, \"EmptyTitle\");\n$RefreshReg$(_c27, \"EmptyText\");\n$RefreshReg$(_c28, \"ProductsPage\");","map":{"version":3,"names":["React","useEffect","useState","styled","useNavigate","useCart","useAuth","toast","FontAwesomeIcon","faShoppingCart","faEye","TopBar","jsxDEV","_jsxDEV","Fragment","_Fragment","PageContainer","div","_c","ContentWrapper","_c2","Header","_c3","Title","h1","_c4","Subtitle","p","_c5","LoadingWrapper","_c6","LoadingText","_c7","ErrorWrapper","_c8","ErrorText","h2","_c9","RetryButton","button","_c0","ProductGrid","_c1","ProductCard","_c10","ImageContainer","_c11","ProductImage","img","_c12","ImageOverlay","_c13","ViewButton","_c14","ImageBadge","_c15","ProductInfo","_c16","ProductName","h3","_c17","ProductDescription","_c18","PriceSection","_c19","Price","_c20","ProductDetails","_c21","DetailItem","_c22","StockStatus","props","inStock","_c23","AddToCartButton","disabled","_c24","EmptyState","_c25","EmptyTitle","_c26","EmptyText","_c27","ProductsPage","_s","products","setProducts","loading","setLoading","error","setError","navigate","addToCart","cartLoading","currentUser","fetchProducts","response","fetch","ok","data","json","activeProducts","filter","product","productstatus","console","parseSizes","sizesData","JSON","parse","getAvailableSizes","sizes","size","stock","map","getTotalStock","total_stock","undefined","reduce","total","handleAddToCart","e","stopPropagation","info","result","product_id","productcolor","success","message","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","totalStock","availableSizes","productimage","src","alt","productname","onError","target","style","display","id","icon","images","productdescription","parseFloat","productprice","toFixed","join","_c28","$RefreshReg$"],"sources":["C:/sevenfour/src/pages/ProductsPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { toast } from 'react-toastify';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faShoppingCart, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport TopBar from '../components/TopBar';\r\n\r\n// Styled Components\r\nconst PageContainer = styled.div`\r\n  min-height: 100vh;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst ContentWrapper = styled.div`\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 80px 24px 40px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 60px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 3rem;\r\n  font-weight: 300;\r\n  color: #000000;\r\n  margin: 0;\r\n  letter-spacing: -0.02em;\r\n  line-height: 1.2;\r\n  \r\n  @media (max-width: 768px) {\r\n    font-size: 2rem;\r\n  }\r\n`;\r\n\r\nconst Subtitle = styled.p`\r\n  font-size: 1.1rem;\r\n  color: #666666;\r\n  margin: 16px 0 0 0;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst LoadingWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 400px;\r\n`;\r\n\r\nconst LoadingText = styled.div`\r\n  font-size: 1.2rem;\r\n  color: #666666;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst ErrorWrapper = styled.div`\r\n  text-align: center;\r\n  padding: 80px 20px;\r\n`;\r\n\r\nconst ErrorText = styled.h2`\r\n  color: #000000;\r\n  font-weight: 400;\r\n  margin-bottom: 24px;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nconst RetryButton = styled.button`\r\n  padding: 12px 32px;\r\n  background-color: #000000;\r\n  color: #ffffff;\r\n  border: none;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  letter-spacing: 0.5px;\r\n  \r\n  &:hover {\r\n    background-color: #333333;\r\n  }\r\n`;\r\n\r\nconst ProductGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  gap: 32px;\r\n  margin-bottom: 60px;\r\n  \r\n  @media (max-width: 768px) {\r\n    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n    gap: 24px;\r\n  }\r\n`;\r\n\r\nconst ProductCard = styled.div`\r\n  background-color: #ffffff;\r\n  border: 1px solid #f0f0f0;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  \r\n  &:hover {\r\n    border-color: #000000;\r\n    transform: translateY(-4px);\r\n    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\n  position: relative;\r\n  height: 300px;\r\n  overflow: hidden;\r\n  background-color: #fafafa;\r\n`;\r\n\r\nconst ProductImage = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s ease;\r\n  \r\n  ${ProductCard}:hover & {\r\n    transform: scale(1.02);\r\n  }\r\n`;\r\n\r\nconst ImageOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  \r\n  ${ProductCard}:hover & {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst ViewButton = styled.button`\r\n  background-color: #ffffff;\r\n  color: #000000;\r\n  border: none;\r\n  padding: 12px 24px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  letter-spacing: 0.5px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background-color: #000000;\r\n    color: #ffffff;\r\n  }\r\n`;\r\n\r\nconst ImageBadge = styled.div`\r\n  position: absolute;\r\n  top: 16px;\r\n  right: 16px;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  color: #ffffff;\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst ProductInfo = styled.div`\r\n  padding: 24px;\r\n`;\r\n\r\nconst ProductName = styled.h3`\r\n  font-size: 1.2rem;\r\n  font-weight: 400;\r\n  color: #000000;\r\n  margin: 0 0 8px 0;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst ProductDescription = styled.p`\r\n  color: #666666;\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  margin: 0 0 16px 0;\r\n  height: 42px;\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n`;\r\n\r\nconst PriceSection = styled.div`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst Price = styled.div`\r\n  font-size: 1.4rem;\r\n  font-weight: 600;\r\n  color: #000000;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst ProductDetails = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst DetailItem = styled.div`\r\n  font-size: 13px;\r\n  color: #666666;\r\n  \r\n  strong {\r\n    color: #000000;\r\n    font-weight: 500;\r\n  }\r\n`;\r\n\r\nconst StockStatus = styled.div`\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: ${props => props.inStock ? '#000000' : '#999999'};\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst AddToCartButton = styled.button`\r\n  width: 100%;\r\n  padding: 14px;\r\n  background-color: ${props => props.disabled ? '#f5f5f5' : '#000000'};\r\n  color: ${props => props.disabled ? '#999999' : '#ffffff'};\r\n  border: ${props => props.disabled ? '1px solid #e0e0e0' : 'none'};\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\r\n  transition: all 0.3s ease;\r\n  letter-spacing: 0.5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.disabled ? '#f5f5f5' : '#333333'};\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 80px 20px;\r\n`;\r\n\r\nconst EmptyTitle = styled.h2`\r\n  color: #000000;\r\n  font-weight: 300;\r\n  font-size: 1.8rem;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst EmptyText = styled.p`\r\n  color: #666666;\r\n  font-size: 1.1rem;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst ProductsPage = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate();\r\n    const { addToCart, loading: cartLoading } = useCart();\r\n    const { currentUser } = useAuth();\r\n\r\n    const fetchProducts = async () => {\r\n        try {\r\n            setLoading(true);\r\n            \r\n            const response = await fetch('http://localhost:3001/api/maintenance/products');\r\n            \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                \r\n                // Filter only active products for customers\r\n                const activeProducts = data.filter(product => \r\n                    product.productstatus === 'active'\r\n                );\r\n                \r\n                setProducts(activeProducts);\r\n            } else {\r\n                setError('Failed to load products');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching products:', error);\r\n            setError('Failed to load products. Please try again later.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    // Parse sizes data for display\r\n    const parseSizes = (sizesData) => {\r\n        try {\r\n            if (typeof sizesData === 'string') {\r\n                return JSON.parse(sizesData);\r\n            }\r\n            return sizesData || [];\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    };\r\n\r\n    // Get available sizes for display\r\n    const getAvailableSizes = (sizesData) => {\r\n        const sizes = parseSizes(sizesData);\r\n        return sizes.filter(size => size.stock > 0).map(size => size.size);\r\n    };\r\n\r\n    // Get total stock\r\n    const getTotalStock = (product) => {\r\n        if (product.total_stock !== undefined) {\r\n            return product.total_stock;\r\n        }\r\n        const sizes = parseSizes(product.sizes);\r\n        return sizes.reduce((total, size) => total + (size.stock || 0), 0);\r\n    };\r\n\r\n    const handleAddToCart = async (e, product) => {\r\n        e.stopPropagation();\r\n        \r\n        if (!currentUser) {\r\n            toast.info('Please login to add items to cart');\r\n            navigate('/login');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const result = await addToCart(\r\n                product.product_id,\r\n                product.productcolor || 'Default',\r\n                'One Size',\r\n                1\r\n            );\r\n            \r\n            if (result.success) {\r\n                toast.success(result.message || 'Item added to cart!');\r\n                navigate('/orders');\r\n            } else {\r\n                toast.error(result.message || 'Failed to add item to cart');\r\n            }\r\n        } catch (error) {\r\n            console.error('Add to cart error:', error);\r\n            toast.error('Failed to add item to cart');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <PageContainer>\r\n            <TopBar />\r\n            <ContentWrapper>\r\n                <Header>\r\n                    <Title>Our Collection</Title>\r\n                    <Subtitle>Discover our carefully curated selection of premium products</Subtitle>\r\n                </Header>\r\n                \r\n                {loading && (\r\n                    <LoadingWrapper>\r\n                        <LoadingText>Loading products...</LoadingText>\r\n                    </LoadingWrapper>\r\n                )}\r\n\r\n                {error && (\r\n                    <ErrorWrapper>\r\n                        <ErrorText>{error}</ErrorText>\r\n                        <RetryButton onClick={fetchProducts}>\r\n                            Try Again\r\n                        </RetryButton>\r\n                    </ErrorWrapper>\r\n                )}\r\n\r\n                {!loading && !error && products.length > 0 && (\r\n                    <ProductGrid>\r\n                        {products.map(product => {\r\n                            const totalStock = getTotalStock(product);\r\n                            const availableSizes = getAvailableSizes(product.sizes);\r\n                            \r\n                            return (\r\n                                <ProductCard key={product.id}>\r\n                                    <ImageContainer>\r\n                                        {product.productimage && (\r\n                                            <>\r\n                                                <ProductImage \r\n                                                    src={`http://localhost:3001/uploads/${product.productimage}`} \r\n                                                    alt={product.productname}\r\n                                                    onError={(e) => {\r\n                                                        e.target.style.display = 'none';\r\n                                                    }}\r\n                                                />\r\n                                                <ImageOverlay>\r\n                                                    <ViewButton onClick={() => navigate(`/product/${product.id}`)}>\r\n                                                        <FontAwesomeIcon icon={faEye} /> View Details\r\n                                                    </ViewButton>\r\n                                                </ImageOverlay>\r\n                                                {product.images && product.images.length > 1 && (\r\n                                                    <ImageBadge>\r\n                                                        +{product.images.length - 1} more\r\n                                                    </ImageBadge>\r\n                                                )}\r\n                                            </>\r\n                                        )}\r\n                                    </ImageContainer>\r\n                                    \r\n                                    <ProductInfo onClick={() => navigate(`/product/${product.id}`)}>\r\n                                        <ProductName>{product.productname}</ProductName>\r\n                                        \r\n                                        <ProductDescription>\r\n                                            {product.productdescription || 'Premium quality product with exceptional craftsmanship'}\r\n                                        </ProductDescription>\r\n                                        \r\n                                        <PriceSection>\r\n                                            <Price>₱{parseFloat(product.productprice || 0).toFixed(2)}</Price>\r\n                                        </PriceSection>\r\n                                        \r\n                                        <ProductDetails>\r\n                                            {availableSizes.length > 0 && (\r\n                                                <DetailItem>\r\n                                                    <strong>Sizes:</strong> {availableSizes.join(', ')}\r\n                                                </DetailItem>\r\n                                            )}\r\n                                            \r\n                                            {product.productcolor && (\r\n                                                <DetailItem>\r\n                                                    <strong>Color:</strong> {product.productcolor}\r\n                                                </DetailItem>\r\n                                            )}\r\n                                        </ProductDetails>\r\n                                        \r\n                                        <StockStatus inStock={totalStock > 0}>\r\n                                            {totalStock > 0 ? \r\n                                                `${totalStock} in stock` : \r\n                                                'Out of stock'\r\n                                            }\r\n                                        </StockStatus>\r\n\r\n                                        <AddToCartButton\r\n                                            onClick={(e) => handleAddToCart(e, product)}\r\n                                            disabled={totalStock === 0 || cartLoading}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faShoppingCart} />\r\n                                            {cartLoading ? 'Adding...' : \r\n                                             totalStock > 0 ? 'Add to Cart' : 'Out of Stock'}\r\n                                        </AddToCartButton>\r\n                                    </ProductInfo>\r\n                                </ProductCard>\r\n                            );\r\n                        })}\r\n                    </ProductGrid>\r\n                )}\r\n\r\n                {!loading && !error && products.length === 0 && (\r\n                    <EmptyState>\r\n                        <EmptyTitle>No products available</EmptyTitle>\r\n                        <EmptyText>\r\n                            Check back later for new products in our collection\r\n                        </EmptyText>\r\n                    </EmptyState>\r\n                )}\r\n            </ContentWrapper>        </PageContainer>\r\n    );\r\n};\r\n\r\nexport default ProductsPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,cAAc,EAAEC,KAAK,QAAQ,mCAAmC;AACzE,OAAOC,MAAM,MAAM,sBAAsB;;AAEzC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,aAAa,GAAGb,MAAM,CAACc,GAAG;AAChC;AACA;AACA,CAAC;AAACC,EAAA,GAHIF,aAAa;AAKnB,MAAMG,cAAc,GAAGhB,MAAM,CAACc,GAAG;AACjC;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAJID,cAAc;AAMpB,MAAME,MAAM,GAAGlB,MAAM,CAACc,GAAG;AACzB;AACA;AACA,CAAC;AAACK,GAAA,GAHID,MAAM;AAKZ,MAAME,KAAK,GAAGpB,MAAM,CAACqB,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAXIF,KAAK;AAaX,MAAMG,QAAQ,GAAGvB,MAAM,CAACwB,CAAC;AACzB;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,QAAQ;AAOd,MAAMG,cAAc,GAAG1B,MAAM,CAACc,GAAG;AACjC;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GALID,cAAc;AAOpB,MAAME,WAAW,GAAG5B,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAACe,GAAA,GAJID,WAAW;AAMjB,MAAME,YAAY,GAAG9B,MAAM,CAACc,GAAG;AAC/B;AACA;AACA,CAAC;AAACiB,GAAA,GAHID,YAAY;AAKlB,MAAME,SAAS,GAAGhC,MAAM,CAACiC,EAAE;AAC3B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,SAAS;AAOf,MAAMG,WAAW,GAAGnC,MAAM,CAACoC,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAdIF,WAAW;AAgBjB,MAAMG,WAAW,GAAGtC,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACyB,GAAA,GAVID,WAAW;AAYjB,MAAME,WAAW,GAAGxC,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GAbID,WAAW;AAejB,MAAME,cAAc,GAAG1C,MAAM,CAACc,GAAG;AACjC;AACA;AACA;AACA;AACA,CAAC;AAAC6B,IAAA,GALID,cAAc;AAOpB,MAAME,YAAY,GAAG5C,MAAM,CAAC6C,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,IAAIL,WAAW;AACf;AACA;AACA,CAAC;AAACM,IAAA,GATIF,YAAY;AAWlB,MAAMG,YAAY,GAAG/C,MAAM,CAACc,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI0B,WAAW;AACf;AACA;AACA,CAAC;AAACQ,IAAA,GAhBID,YAAY;AAkBlB,MAAME,UAAU,GAAGjD,MAAM,CAACoC,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACc,IAAA,GAfID,UAAU;AAiBhB,MAAME,UAAU,GAAGnD,MAAM,CAACc,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAVID,UAAU;AAYhB,MAAME,WAAW,GAAGrD,MAAM,CAACc,GAAG;AAC9B;AACA,CAAC;AAACwC,IAAA,GAFID,WAAW;AAIjB,MAAME,WAAW,GAAGvD,MAAM,CAACwD,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GANIF,WAAW;AAQjB,MAAM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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}